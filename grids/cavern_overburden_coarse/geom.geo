// Note: cavern height is 224.82 meters.

coarse_size_1 = 200;
coarse_size_2 = 35;
fine_size = 8.5;

Lz = 660.0;
Ly = 2000.0;
Lx = Ly;

ovb_thickness = 400;
salt_thickness = 1000;
hanging_wall = 400;

depth = ovb_thickness + hanging_wall;
depth_aux = 430 + depth;

// Cavern profile
Point(0) = {0.000000, 0.000000, 430.000000 - depth_aux, fine_size};
Point(1) = {0.000000, 0.000000, 205.189718 - depth_aux, fine_size};
Point(2) = {0.000000, 0.000000, 221.346389 - depth_aux, coarse_size_1};
Point(3) = {0.000000, 0.000000, 424.920441 - depth_aux, coarse_size_1};
Point(4) = {0.000000, 0.000000, 235.887393 - depth_aux, coarse_size_1};
Point(5) = {0.000000, 0.000000, 393.414933 - depth_aux, coarse_size_1};
Point(6) = {0.000000, 0.000000, 311.823745 - depth_aux, coarse_size_1};
Point(7) = {0.000000, 0.000000, 301.321909 - depth_aux, coarse_size_1};
Point(8) = {0.000000, 0.000000, 380.489596 - depth_aux, coarse_size_1};
Point(9) = {0.000000, 0.000000, 344.944920 - depth_aux, coarse_size_1};
Point(10) = {0.000000, 0.000000, 412.802938 - depth_aux, coarse_size_1};
Point(11) = {0.000000, 0.000000, 227.809058 - depth_aux, coarse_size_1};
Point(12) = {0.000000, 0.000000, 402.301102 - depth_aux, coarse_size_1};
Point(13) = {0.000000, 0.000000, 331.211750 - depth_aux, coarse_size_1};
Point(14) = {0.000000, 0.000000, 251.236230 - depth_aux, coarse_size_1};
Point(15) = {0.000000, 0.000000, 356.254590 - depth_aux, coarse_size_1};
Point(16) = {0.000000, 0.000000, 285.165239 - depth_aux, coarse_size_1};
Point(17) = {0.000000, 0.000000, 267.392901 - depth_aux, coarse_size_1};
Point(28) = {45.000000, 0.000000, 344.944920 - depth_aux, fine_size};
Point(29) = {68.597561, 0.000000, 251.236230 - depth_aux, fine_size};
Point(30) = {47.195122, 0.000000, 331.211750 - depth_aux, fine_size};
Point(31) = {72.987805, 0.000000, 285.165239 - depth_aux, fine_size};
Point(32) = {47.743902, 0.000000, 235.887393 - depth_aux, fine_size};
Point(33) = {47.743902, 0.000000, 380.489596 - depth_aux, fine_size};
Point(34) = {0.000000, 48.292683, 356.254590 - depth_aux, fine_size};
Point(35) = {48.292683, 0.000000, 356.254590 - depth_aux, fine_size};
Point(36) = {0.000000, 42.804878, 393.414933 - depth_aux, fine_size};
Point(37) = {0.000000, 68.597561, 251.236230 - depth_aux, fine_size};
Point(38) = {0.000000, 56.524390, 311.823745 - depth_aux, fine_size};
Point(39) = {0.000000, 74.634146, 267.392901 - depth_aux, fine_size};
Point(40) = {0.000000, 45.000000, 344.944920 - depth_aux, fine_size};
Point(41) = {0.000000, 72.987805, 285.165239 - depth_aux, fine_size};
Point(42) = {56.524390, 0.000000, 311.823745 - depth_aux, fine_size};
Point(43) = {7.134146, 0.000000, 221.346389 - depth_aux, fine_size};
Point(44) = {34.573171, 0.000000, 402.301102 - depth_aux, fine_size};
Point(45) = {0.000000, 19.756098, 412.802938 - depth_aux, fine_size};
Point(46) = {0.000000, 47.195122, 331.211750 - depth_aux, fine_size};
Point(47) = {57.621951, 0.000000, 301.321909 - depth_aux, fine_size};
Point(48) = {74.634146, 0.000000, 267.392901 - depth_aux, fine_size};
Point(49) = {0.000000, 7.134146, 221.346389 - depth_aux, fine_size};
Point(50) = {0.000000, 10.426829, 424.920441 - depth_aux, fine_size};
Point(51) = {19.756098, 0.000000, 412.802938 - depth_aux, fine_size};
Point(52) = {0.000000, 21.951220, 227.809058 - depth_aux, fine_size};
Point(53) = {0.000000, 47.743902, 235.887393 - depth_aux, fine_size};
Point(54) = {0.000000, 47.743902, 380.489596 - depth_aux, fine_size};
Point(55) = {10.426829, 0.000000, 424.920441 - depth_aux, fine_size};
Point(56) = {42.804878, 0.000000, 393.414933 - depth_aux, fine_size};
Point(57) = {21.951220, 0.000000, 227.809058 - depth_aux, fine_size};
Point(58) = {0.000000, 57.621951, 301.321909 - depth_aux, fine_size};
Point(59) = {0.000000, 34.573171, 402.301102 - depth_aux, fine_size};

// Overburden layer
Point(60) = {0.0, 0.0, 0.0, coarse_size_2};
Point(61) = {Lx, 0.0, 0.0, coarse_size_1};
Point(62) = {Lx, Ly, 0.0, coarse_size_1};
Point(63) = {0.0, Ly, 0.0, coarse_size_1};
Point(64) = {0.0, 0.0, -ovb_thickness, coarse_size_2};
Point(65) = {Lx, 0.0, -ovb_thickness, coarse_size_1};
Point(66) = {Lx, Ly, -ovb_thickness, coarse_size_1};
Point(67) = {0.0, Ly, -ovb_thickness, coarse_size_1};


// Salt layer
Point(68) = {0.0, 0.0, -ovb_thickness-salt_thickness, coarse_size_2};
Point(69) = {Lx, 0.0, -ovb_thickness-salt_thickness, coarse_size_1};
Point(70) = {Lx, Ly, -ovb_thickness-salt_thickness, coarse_size_1};
Point(71) = {0.0, Ly, -ovb_thickness-salt_thickness, coarse_size_1};


Line(1) = {1, 43};
Line(2) = {43, 57};
Line(3) = {57, 32};
Line(4) = {32, 29};
Line(5) = {29, 48};
Line(6) = {48, 31};
Line(7) = {31, 47};
Line(8) = {47, 42};
Line(9) = {42, 30};
Line(10) = {30, 28};
Line(11) = {28, 35};
Line(12) = {35, 33};
Line(13) = {33, 56};
Line(14) = {56, 44};
Line(15) = {44, 51};
Line(16) = {51, 55};
Line(17) = {55, 0};
Line(18) = {0, 50};
Line(19) = {50, 45};
Line(20) = {45, 59};
Line(21) = {59, 36};
Line(22) = {36, 54};
Line(23) = {54, 34};
Line(24) = {34, 40};
Line(25) = {40, 46};
Line(26) = {46, 38};
Line(27) = {38, 58};
Line(28) = {58, 41};
Line(29) = {41, 39};
Line(30) = {39, 37};
Line(31) = {37, 53};
Line(32) = {53, 52};
Line(33) = {52, 49};
Line(34) = {49, 1};
Line(35) = {1, 68};
Line(36) = {68, 69};
Line(37) = {69, 70};
Line(38) = {70, 71};
Line(39) = {71, 67};
Line(40) = {67, 66};
Line(41) = {66, 65};
Line(42) = {65, 64};
Line(43) = {64, 67};
Line(44) = {67, 63};
Line(45) = {63, 60};
Line(46) = {60, 61};
Line(47) = {61, 62};
Line(48) = {62, 66};
Line(49) = {66, 70};
Line(50) = {62, 63};
Line(51) = {60, 64};
Line(52) = {64, 0};
Line(53) = {61, 65};
Line(54) = {65, 69};
Line(55) = {68, 71};

Circle(56) = {43, 2, 49};
Circle(57) = {57, 11, 52};
Circle(58) = {32, 4, 53};
Circle(59) = {37, 14, 29};
Circle(60) = {48, 17, 39};
Circle(61) = {41, 16, 31};
Circle(62) = {47, 7, 58};
Circle(63) = {38, 6, 42};
Circle(64) = {30, 13, 46};
Circle(65) = {40, 9, 28};
Circle(66) = {35, 15, 34};
Circle(67) = {54, 8, 33};
Circle(68) = {56, 5, 36};
Circle(69) = {59, 12, 44};
Circle(70) = {51, 10, 45};
Circle(71) = {50, 3, 55};


Curve Loop(1) = {36, -54, 42, 52, -17, -16, -15, -14, -13, -12, -11, -10, -9, -8, -7, -6, -5, -4, -3, -2, -1, 35};
Plane Surface(1) = {1};
Curve Loop(2) = {34, 35, 55, 39, -43, 52, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33};
Plane Surface(2) = {-2};
Curve Loop(3) = {38, 39, 40, 49};
Plane Surface(3) = {3};
Curve Loop(4) = {41, 54, 37, -49};
Plane Surface(4) = {4};
Curve Loop(5) = {38, -55, 36, 37};
Plane Surface(5) = {-5};
Curve Loop(6) = {42, 43, 40, 41};
Plane Surface(6) = {6};
Curve Loop(7) = {42, -51, 46, 53};
Plane Surface(7) = {-7};
Curve Loop(8) = {43, 44, 45, 51};
Plane Surface(8) = {-8};
Curve Loop(9) = {44, -50, 48, -40};
Plane Surface(9) = {9};
Curve Loop(10) = {47, 48, 41, -53};
Plane Surface(10) = {-10};
Curve Loop(11) = {46, 47, 50, 45};
Plane Surface(11) = {11};
Curve Loop(12) = {1, 56, 34};
Surface(12) = {12};
Curve Loop(13) = {2, 57, 33, -56};
Surface(13) = {13};
Curve Loop(14) = {57, -32, -58, -3};
Surface(14) = {-14};
Curve Loop(15) = {58, -31, 59, -4};
Surface(15) = {-15};
Curve Loop(16) = {59, 5, 60, 30};
Surface(16) = {16};
Curve Loop(17) = {60, -29, 61, -6};
Surface(17) = {-17};
Curve Loop(18) = {61, 7, 62, 28};
Surface(18) = {18};
Curve Loop(19) = {62, -27, 63, -8};
Surface(19) = {-19};
Curve Loop(20) = {63, 9, 64, 26};
Surface(20) = {20};
Curve Loop(21) = {64, -25, 65, -10};
Surface(21) = {-21};
Curve Loop(22) = {65, 11, 66, 24};
Surface(22) = {22};
Curve Loop(23) = {66, -23, 67, -12};
Surface(23) = {-23};
Curve Loop(24) = {67, 13, 68, 22};
Surface(24) = {24};
Curve Loop(25) = {68, -21, 69, -14};
Surface(25) = {-25};
Curve Loop(26) = {69, 15, 70, 20};
Surface(26) = {26};
Curve Loop(27) = {70, -19, 71, -16};
Surface(27) = {-27};
Curve Loop(28) = {71, 17, 18};
Surface(28) = {28};

Surface Loop(1) = {6, 7, 8, 9, 11, 10};
Volume(1) = {1};
Surface Loop(2) = {5, 3, 2, 12, 1, 4, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 6};
Volume(2) = {2};

Physical Curve("Wall_profile", 72) = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17};
Physical Surface("South_salt", 73) = {1};
Physical Surface("South_ovb", 74) = {7};
Physical Surface("North_salt", 75) = {3};
Physical Surface("North_ovb", 76) = {9};
Physical Surface("West_salt", 77) = {2};
Physical Surface("West_ovb", 78) = {8};
Physical Surface("East_salt", 79) = {4};
Physical Surface("East_ovb", 80) = {10};
Physical Surface("Bottom", 81) = {5};
Physical Surface("Top", 82) = {11};
Physical Surface("Cavern", 83) = {12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28};
Physical Volume("Salt", 84) = {2};
Physical Volume("Overburden", 85) = {1};
